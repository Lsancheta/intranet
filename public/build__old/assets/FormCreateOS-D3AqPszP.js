import{g as k,r as w,b as i,o as s,a as l,i as r,z as m,u as d,F as p,j as v,t as b,v as S,h as q}from"./app-B2ycCGJK.js";const C={class:"p-6 bg-white rounded-lg shadow-md w-[550px]"},U=["value"],A=["value"],B=["value"],O={__name:"FormCreateOS",props:{alojamentos:Array,prioridades:Array},emits:["saved"],setup(g,{emit:j}){const x=j,a=g,t=k({alojamento_id:"",bloco_id:"",quarto_id:"",titulo:"",descricao:"",prioridade_id:""}),u=w([]),f=w([]);function y(){const n=a.alojamentos.find(o=>o.id==t.alojamento_id);u.value=n?n.blocos:[],f.value=[],t.bloco_id="",t.quarto_id=""}function c(){const n=u.value.find(o=>o.id==t.bloco_id);f.value=n?n.quartos:[],t.quarto_id=""}function V(){t.post("/ordens",{onSuccess:()=>x("saved")})}return(n,o)=>(s(),i("div",C,[o[14]||(o[14]=l("h2",{class:"text-xl font-bold mb-4 text-gray-700"}," Criar Ordem de Serviço ",-1)),l("form",{onSubmit:q(V,["prevent"]),class:"space-y-4"},[l("div",null,[o[6]||(o[6]=l("label",{class:"font-medium"},"Alojamento",-1)),r(l("select",{class:"border p-2 rounded w-full","onUpdate:modelValue":o[0]||(o[0]=e=>d(t).alojamento_id=e),onChange:y},[o[5]||(o[5]=l("option",{value:""},"Selecione...",-1)),(s(!0),i(p,null,v(a.alojamentos,e=>(s(),i("option",{key:e.id,value:e.id},b(e.nome),9,U))),128))],544),[[m,d(t).alojamento_id]])]),l("div",null,[o[8]||(o[8]=l("label",{class:"font-medium"},"Setor",-1)),r(l("select",{class:"border p-2 rounded w-full","onUpdate:modelValue":o[1]||(o[1]=e=>d(t).bloco_id=e),onChange:c},[o[7]||(o[7]=l("option",{value:""},"Selecione...",-1)),(s(!0),i(p,null,v(u.value,e=>(s(),i("option",{key:e.id,value:e.id},b(e.nome),9,A))),128))],544),[[m,d(t).bloco_id]])]),l("div",null,[o[9]||(o[9]=l("label",{class:"font-medium"},"Título da OS",-1)),r(l("input",{type:"text",class:"border p-2 rounded w-full","onUpdate:modelValue":o[2]||(o[2]=e=>d(t).titulo=e)},null,512),[[S,d(t).titulo]])]),l("div",null,[o[10]||(o[10]=l("label",{class:"font-medium"},"Descrição",-1)),r(l("textarea",{class:"border p-2 rounded w-full h-24","onUpdate:modelValue":o[3]||(o[3]=e=>d(t).descricao=e)},null,512),[[S,d(t).descricao]])]),l("div",null,[o[12]||(o[12]=l("label",{class:"font-medium"},"Prioridade",-1)),r(l("select",{"onUpdate:modelValue":o[4]||(o[4]=e=>d(t).prioridade_id=e),class:"border p-2 rounded w-full"},[o[11]||(o[11]=l("option",{value:""},"Selecione...",-1)),(s(!0),i(p,null,v(a.prioridades,e=>(s(),i("option",{key:e.id,value:e.id},b(e.nome),9,B))),128))],512),[[m,d(t).prioridade_id]])]),o[13]||(o[13]=l("button",{class:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 text-lg"}," Criar OS ",-1))],32)]))}};export{O as default};
