import{b as c,o as n,a as t,s as g,r as u,c as x,w as r,d as m,F as v,j as w,e as d,u as f,l as y,f as _,t as o,x as S,y as $}from"./app-67hBPH9G.js";import j from"./AppLayout-d4VMbLAr.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import C from"./FormCreateOS-CGcPTAQK.js";const N={},z={class:"fixed inset-0 bg-black/50 flex items-center justify-center"},A={class:"bg-white rounded-lg p-6 relative min-w-[400px]"};function B(i,a){return n(),c("div",z,[t("div",A,[t("button",{class:"absolute top-2 right-2 text-gray-600",onClick:a[0]||(a[0]=l=>i.$emit("close"))}," ✖ "),g(i.$slots,"default")])])}const O=k(N,[["render",B]]),V={class:"flex justify-between items-center"},F={class:"flex gap-3"},D={class:"p-6"},E={class:"w-full bg-white shadow rounded-lg overflow-hidden"},I={class:"py-2 px-4"},L={class:"py-2 px-4"},M={class:"py-2 px-4"},P={class:"py-2 px-4"},T={class:"py-2 px-4"},q={class:"py-2 px-4"},G={class:"py-2 px-4"},H={class:"py-2 px-4"},U={__name:"Index",props:{ordens:Array,alojamentos:Array,prioridades:Array,filtros:Object},setup(i){const a=i,l=u(!1);function b(){l.value=!1}u({texto:a.filtros?.texto??"",prioridade:a.filtros?.prioridade??""});function h(p){switch(p){case 1:return"bg-blue-100 text-blue-800";case 2:return"bg-yellow-100 text-yellow-800";case 3:return"bg-red-100 text-red-800";case 4:return"bg-green-100 text-green-800";default:return"bg-gray-200 text-gray-700"}}return(p,s)=>(n(),x(j,null,{header:r(()=>[t("div",V,[s[3]||(s[3]=t("h1",{class:"text-2xl font-semibold"},"Ordens de Serviço",-1)),t("div",F,[d(f(y),{href:"/ordens/finalizadas",class:"px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-800"},{default:r(()=>[...s[2]||(s[2]=[_(" OS Finalizadas ",-1)])]),_:1}),t("button",{class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:s[0]||(s[0]=e=>l.value=!0)}," Nova OS ")])])]),default:r(()=>[t("div",D,[t("table",E,[s[4]||(s[4]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"py-2 px-4 text-left"},"N°"),t("th",{class:"py-2 px-4 text-left"},"Solicitação"),t("th",{class:"py-2 px-4 text-left"},"Alojamento"),t("th",{class:"py-2 px-4 text-left"},"Setor"),t("th",{class:"py-2 px-4 text-left"},"Prioridade"),t("th",{class:"py-2 px-4 text-left"},"Status"),t("th",{class:"py-2 px-4 text-left"},"Solicitante"),t("th",{class:"py-2 px-4 text-left"},"Data")])],-1)),t("tbody",null,[(n(!0),c(v,null,w(a.ordens,e=>(n(),c("tr",{key:e.id,class:"border-b hover:bg-gray-50 cursor-pointer"},[t("td",I,[d(f(y),{href:`/ordens/${e.id}`,class:"text-blue-600 hover:underline"},{default:r(()=>[_(o(e.id),1)]),_:2},1032,["href"])]),t("td",L,o(e.titulo),1),t("td",M,o(e.alojamento?.nome),1),t("td",P,o(e.bloco?.nome),1),t("td",T,[t("span",{class:"px-3 py-1 rounded text-white text-sm",style:S({backgroundColor:e.prioridade?.cor??"#777"})},o(e.prioridade?.nome??"Sem prioridade"),5)]),t("td",q,[t("span",{class:$(`${h(e.status_id)} px-3 py-1 rounded-full text-sm font-semibold`)},o(e.status.nome),3)]),t("td",G,o(e.solicitante?.name??"---"),1),t("td",H,o(e.created_at),1)]))),128))])]),l.value?(n(),x(O,{key:0,onClose:s[1]||(s[1]=e=>l.value=!1)},{default:r(()=>[d(C,{alojamentos:a.alojamentos,prioridades:a.prioridades,onSaved:b},null,8,["alojamentos","prioridades"])]),_:1})):m("",!0)])]),_:1}))}};export{U as default};
