import{g as k,r as f,b as d,o as a,a as o,i as n,z as m,u as s,F as b,j as p,t as x,v as w,h as q}from"./app-DZv3zm9P.js";const C={class:"p-6 bg-white rounded-lg shadow-md w-full max-w-lg mx-auto md:w-[550px]"},U=["value"],A=["value"],B=["value"],O={__name:"FormCreateOS",props:{alojamentos:Array,prioridades:Array},emits:["saved"],setup(g,{emit:S}){const j=S,r=g,l=k({alojamento_id:"",bloco_id:"",quarto_id:"",titulo:"",descricao:"",prioridade_id:""}),u=f([]),v=f([]);function y(){const i=r.alojamentos.find(e=>e.id==l.alojamento_id);u.value=i?i.blocos:[],v.value=[],l.bloco_id="",l.quarto_id=""}function c(){const i=u.value.find(e=>e.id==l.bloco_id);v.value=i?i.quartos:[],l.quarto_id=""}function V(){l.post("/ordens",{onSuccess:()=>j("saved")})}return(i,e)=>(a(),d("div",C,[e[14]||(e[14]=o("h2",{class:"text-xl font-bold mb-4 text-gray-700 text-center md:text-left"}," Criar Ordem de Serviço ",-1)),o("form",{onSubmit:q(V,["prevent"]),class:"space-y-4"},[o("div",null,[e[6]||(e[6]=o("label",{class:"font-medium text-sm md:text-base"},"Alojamento",-1)),n(o("select",{class:"border p-2 rounded w-full text-sm md:text-base","onUpdate:modelValue":e[0]||(e[0]=t=>s(l).alojamento_id=t),onChange:y},[e[5]||(e[5]=o("option",{value:""},"Selecione...",-1)),(a(!0),d(b,null,p(r.alojamentos,t=>(a(),d("option",{key:t.id,value:t.id},x(t.nome),9,U))),128))],544),[[m,s(l).alojamento_id]])]),o("div",null,[e[8]||(e[8]=o("label",{class:"font-medium text-sm md:text-base"},"Setor",-1)),n(o("select",{class:"border p-2 rounded w-full text-sm md:text-base","onUpdate:modelValue":e[1]||(e[1]=t=>s(l).bloco_id=t),onChange:c},[e[7]||(e[7]=o("option",{value:""},"Selecione...",-1)),(a(!0),d(b,null,p(u.value,t=>(a(),d("option",{key:t.id,value:t.id},x(t.nome),9,A))),128))],544),[[m,s(l).bloco_id]])]),o("div",null,[e[9]||(e[9]=o("label",{class:"font-medium text-sm md:text-base"},"Título da OS",-1)),n(o("input",{type:"text",class:"border p-2 rounded w-full text-sm md:text-base","onUpdate:modelValue":e[2]||(e[2]=t=>s(l).titulo=t)},null,512),[[w,s(l).titulo]])]),o("div",null,[e[10]||(e[10]=o("label",{class:"font-medium text-sm md:text-base"},"Descrição",-1)),n(o("textarea",{class:"border p-2 rounded w-full h-24 text-sm md:text-base","onUpdate:modelValue":e[3]||(e[3]=t=>s(l).descricao=t)},null,512),[[w,s(l).descricao]])]),o("div",null,[e[12]||(e[12]=o("label",{class:"font-medium text-sm md:text-base"},"Prioridade",-1)),n(o("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>s(l).prioridade_id=t),class:"border p-2 rounded w-full text-sm md:text-base"},[e[11]||(e[11]=o("option",{value:""},"Selecione...",-1)),(a(!0),d(b,null,p(r.prioridades,t=>(a(),d("option",{key:t.id,value:t.id},x(t.nome),9,B))),128))],512),[[m,s(l).prioridade_id]])]),e[13]||(e[13]=o("button",{class:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 text-base md:text-lg"}," Criar OS ",-1))],32)]))}};export{O as default};
